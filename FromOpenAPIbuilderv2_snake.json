{
  "openapi": "3.0.0",
  "info": {
    "title": "Tax loss harvesting for portfolio",
    "version": "0.1.0",
    "description": "Generated by IBM OASBuilder from page: <a href='https://fifo-portfolio.1ojd3fmlv7hw.us-south.codeengine.appdomain.cloud/docs#' target='_blank'>https://fifo-portfolio.1ojd3fmlv7hw.us-south.codeengine.appdomain.cloud/docs#</a>",
    "x-ibm-grounded-description": false
  },
  "servers": [
    {
      "url": "https://fifo-portfolio-snake.1ojd3fmlv7hw.us-south.codeengine.appdomain.cloud",
      "description": "Tax Loss Harvesting"
    }
  ],
  "paths": {
    "/process_account": {
      "post": {
        "summary": "Tax loss harvesting for portfolio",
        "operationId": "processAccount",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "account_id": {
                    "type": "string",
                    "description": "The account ID to process"
                  }
                },
                "required": ["account_id"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "x-ibm-grounded-description": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "account_id": {
                        "type": "string",
                        "description": "The account ID being processed"
                      },
                      "stock_ticker": {
                        "type": "string",
                        "description": "The stock ticker symbol"
                      },
                      "number_of_shares_on_hand": {
                        "type": "integer",
                        "description": "The number of shares held"
                      },
                      "purchase_date": {
                        "type": "string",
                        "format": "date",
                        "description": "The purchase date of the stock"
                      },
                      "purchase_price": {
                        "type": "number",
                        "format": "float",
                        "description": "The purchase price per unit"
                      },
                      "current_stock_price": {
                        "type": "number",
                        "format": "float",
                        "description": "The most recent stock price"
                      },
                      "potential_loss_gain": {
                        "type": "number",
                        "format": "float",
                        "description": "The potential loss or gain based on the current stock price"
                      },
                      "excluded_due_to_purchase_date": {
                        "type": "string",
                        "description": "Whether the stock is excluded from tax loss harvesting due to being held for less than a year"
                      },
                      "recommend_for_tax_loss_harvesting": {
                        "type": "string",
                        "description": "Whether the stock is recommended for tax loss harvesting"
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "x-ibm-grounded-description": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "detail": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "loc": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "The location of the error"
                          },
                          "msg": {
                            "type": "string",
                            "description": "The error message"
                          },
                          "type": {
                            "type": "string",
                            "description": "The type of error"
                          }
                        },
                        "required": ["loc", "msg", "type"]
                      }
                    }
                  },
                  "description": "Validation Error Details"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BasicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    }
  }
}
